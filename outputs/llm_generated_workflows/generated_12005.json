{
  "template_id": "12005",
  "llm_response": {
    "mode": "create_workflow",
    "workflowPlan": {
      "name": "Add Upcoming Movies from TMDB to Google Calendar Via Telegram",
      "nodes": [
        {
          "id": "1",
          "label": "Schedule Trigger",
          "nodeType": "n8n-nodes-base.cron",
          "typeVersion": 1,
          "params": {
            "triggerTimes": {
              "item": [
                {
                  "hour": 9,
                  "minute": 0
                }
              ]
            }
          },
          "position": {
            "x": 200,
            "y": 300
          }
        },
        {
          "id": "2",
          "label": "Fetch Upcoming Movies",
          "nodeType": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "params": {
            "url": "https://api.themoviedb.org/3/movie/upcoming",
            "method": "GET",
            "queryParameters": [
              {
                "name": "api_key",
                "value": "YOUR_TMDB_API_KEY"
              }
            ]
          },
          "position": {
            "x": 400,
            "y": 300
          }
        },
        {
          "id": "3",
          "label": "Check Duplicates",
          "nodeType": "n8n-nodes-base.if",
          "typeVersion": 1,
          "params": {
            "conditions": {
              "boolean": [
                {
                  "value1": "={{$json[\"movie_id\"]}}",
                  "operation": "notEqual",
                  "value2": "={{$node[\"Data Table\"].json[\"movie_id\"]}}"
                }
              ]
            }
          },
          "position": {
            "x": 600,
            "y": 300
          }
        },
        {
          "id": "4",
          "label": "Store New Movies",
          "nodeType": "n8n-nodes-base.dataTable",
          "typeVersion": 1,
          "params": {
            "operation": "insert",
            "table": "Movies",
            "columns": [
              "movie_id",
              "title",
              "release_date"
            ],
            "values": [
              "={{$json[\"movie_id\"]}}",
              "={{$json[\"title\"]}}",
              "={{$json[\"release_date\"]}}"
            ]
          },
          "position": {
            "x": 800,
            "y": 300
          }
        },
        {
          "id": "5",
          "label": "Send to Telegram",
          "nodeType": "n8n-nodes-base.telegram",
          "typeVersion": 1,
          "params": {
            "chatId": "YOUR_TELEGRAM_CHAT_ID",
            "text": "New Movie: {{$json[\"title\"]}}. Release Date: {{$json[\"release_date\"]}}",
            "replyMarkup": {
              "inline_keyboard": [
                [
                  {
                    "text": "Add to Calendar",
                    "callback_data": "add_to_calendar_{{$json[\"movie_id\"]}}"
                  }
                ]
              ]
            }
          },
          "position": {
            "x": 1000,
            "y": 300
          }
        },
        {
          "id": "6",
          "label": "Add to Google Calendar",
          "nodeType": "n8n-nodes-base.googleCalendar",
          "typeVersion": 1,
          "params": {
            "calendar": "YOUR_CALENDAR_ID",
            "start": "={{$json[\"release_date\"]}}T00:00:00Z",
            "end": "={{$json[\"release_date\"]}}T02:00:00Z",
            "summary": "={{$json[\"title\"]}}"
          },
          "position": {
            "x": 1200,
            "y": 300
          }
        }
      ],
      "connections": [
        {
          "from": "1",
          "to": "2"
        },
        {
          "from": "2",
          "to": "3"
        },
        {
          "from": "3",
          "to": "4",
          "outputIndex": 1
        },
        {
          "from": "4",
          "to": "5"
        },
        {
          "from": "5",
          "to": "6"
        }
      ]
    }
  },
  "usage": {
    "prompt_tokens": 682,
    "completion_tokens": 968,
    "total_tokens": 1650
  },
  "error": null,
  "generated_at": "2026-01-11T17:09:34.447691"
}