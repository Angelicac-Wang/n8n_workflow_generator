{
  "template_id": "4028",
  "llm_response": {
    "mode": "create_workflow",
    "workflowPlan": {
      "name": "Automated Social Media Carousel Creation",
      "nodes": [
        {
          "id": "trigger",
          "label": "Manual Trigger",
          "nodeType": "n8n-nodes-base.manualTrigger",
          "position": {
            "x": 200,
            "y": 300
          }
        },
        {
          "id": "setPrompts",
          "label": "Set All Prompts",
          "nodeType": "n8n-nodes-base.set",
          "params": {
            "values": {
              "string": [
                {
                  "name": "prompt1",
                  "value": "Describe the first image theme."
                },
                {
                  "name": "prompt2",
                  "value": "Describe the second image theme."
                },
                {
                  "name": "prompt3",
                  "value": "Describe the third image theme."
                },
                {
                  "name": "prompt4",
                  "value": "Describe the fourth image theme."
                },
                {
                  "name": "prompt5",
                  "value": "Describe the fifth image theme."
                }
              ]
            }
          },
          "position": {
            "x": 400,
            "y": 300
          }
        },
        {
          "id": "setAPIParams",
          "label": "Set API Variables",
          "nodeType": "n8n-nodes-base.set",
          "params": {
            "values": {
              "string": [
                {
                  "name": "size_of_image",
                  "value": "1024x1536"
                },
                {
                  "name": "openai_image_model",
                  "value": "dall-e-2"
                },
                {
                  "name": "response_format_image",
                  "value": "b64_json"
                }
              ]
            }
          },
          "position": {
            "x": 600,
            "y": 300
          }
        },
        {
          "id": "generateImage1",
          "label": "Generate Image 1",
          "nodeType": "n8n-nodes-base.httpRequest",
          "params": {
            "url": "https://api.openai.com/v1/images/generations",
            "method": "POST",
            "authentication": "predefinedCredentialType",
            "responseFormat": "json",
            "options": {},
            "body": {
              "model": "={{$node[\"setAPIParams\"].json[\"openai_image_model\"]}}",
              "prompt": "={{$node[\"setPrompts\"].json[\"prompt1\"]}}",
              "size": "={{$node[\"setAPIParams\"].json[\"size_of_image\"]}}",
              "response_format": "={{$node[\"setAPIParams\"].json[\"response_format_image\"]}}"
            }
          },
          "position": {
            "x": 800,
            "y": 200
          }
        },
        {
          "id": "generateImage2",
          "label": "Generate Image 2",
          "nodeType": "n8n-nodes-base.httpRequest",
          "params": {
            "url": "https://api.openai.com/v1/images/edits",
            "method": "POST",
            "authentication": "predefinedCredentialType",
            "responseFormat": "json",
            "options": {},
            "body": {
              "model": "={{$node[\"setAPIParams\"].json[\"openai_image_model\"]}}",
              "image": "={{$node[\"generateImage1\"].json[\"data\"][0][\"b64_json\"]}}",
              "prompt": "={{$node[\"setPrompts\"].json[\"prompt2\"]}}",
              "size": "={{$node[\"setAPIParams\"].json[\"size_of_image\"]}}",
              "response_format": "={{$node[\"setAPIParams\"].json[\"response_format_image\"]}}"
            }
          },
          "position": {
            "x": 1000,
            "y": 200
          }
        },
        {
          "id": "generateImage3",
          "label": "Generate Image 3",
          "nodeType": "n8n-nodes-base.httpRequest",
          "params": {
            "url": "https://api.openai.com/v1/images/edits",
            "method": "POST",
            "authentication": "predefinedCredentialType",
            "responseFormat": "json",
            "options": {},
            "body": {
              "model": "={{$node[\"setAPIParams\"].json[\"openai_image_model\"]}}",
              "image": "={{$node[\"generateImage2\"].json[\"data\"][0][\"b64_json\"]}}",
              "prompt": "={{$node[\"setPrompts\"].json[\"prompt3\"]}}",
              "size": "={{$node[\"setAPIParams\"].json[\"size_of_image\"]}}",
              "response_format": "={{$node[\"setAPIParams\"].json[\"response_format_image\"]}}"
            }
          },
          "position": {
            "x": 1200,
            "y": 200
          }
        },
        {
          "id": "generateImage4",
          "label": "Generate Image 4",
          "nodeType": "n8n-nodes-base.httpRequest",
          "params": {
            "url": "https://api.openai.com/v1/images/edits",
            "method": "POST",
            "authentication": "predefinedCredentialType",
            "responseFormat": "json",
            "options": {},
            "body": {
              "model": "={{$node[\"setAPIParams\"].json[\"openai_image_model\"]}}",
              "image": "={{$node[\"generateImage3\"].json[\"data\"][0][\"b64_json\"]}}",
              "prompt": "={{$node[\"setPrompts\"].json[\"prompt4\"]}}",
              "size": "={{$node[\"setAPIParams\"].json[\"size_of_image\"]}}",
              "response_format": "={{$node[\"setAPIParams\"].json[\"response_format_image\"]}}"
            }
          },
          "position": {
            "x": 1400,
            "y": 200
          }
        },
        {
          "id": "generateImage5",
          "label": "Generate Image 5",
          "nodeType": "n8n-nodes-base.httpRequest",
          "params": {
            "url": "https://api.openai.com/v1/images/edits",
            "method": "POST",
            "authentication": "predefinedCredentialType",
            "responseFormat": "json",
            "options": {},
            "body": {
              "model": "={{$node[\"setAPIParams\"].json[\"openai_image_model\"]}}",
              "image": "={{$node[\"generateImage4\"].json[\"data\"][0][\"b64_json\"]}}",
              "prompt": "={{$node[\"setPrompts\"].json[\"prompt5\"]}}",
              "size": "={{$node[\"setAPIParams\"].json[\"size_of_image\"]}}",
              "response_format": "={{$node[\"setAPIParams\"].json[\"response_format_image\"]}}"
            }
          },
          "position": {
            "x": 1600,
            "y": 200
          }
        },
        {
          "id": "generateCaption",
          "label": "Generate Caption",
          "nodeType": "n8n-nodes-base.httpRequest",
          "params": {
            "url": "https://api.openai.com/v1/completions",
            "method": "POST",
            "authentication": "predefinedCredentialType",
            "responseFormat": "json",
            "options": {},
            "body": {
              "model": "gpt-4.1",
              "prompt": "Generate a caption for Instagram and TikTok based on these prompts: {{$node[\"setPrompts\"].json[\"prompt1\"]}}, {{$node[\"setPrompts\"].json[\"prompt2\"]}}, {{$node[\"setPrompts\"].json[\"prompt3\"]}}, {{$node[\"setPrompts\"].json[\"prompt4\"]}}, {{$node[\"setPrompts\"].json[\"prompt5\"]}}.",
              "max_tokens": 50
            }
          },
          "position": {
            "x": 1800,
            "y": 300
          }
        },
        {
          "id": "postToInstagram",
          "label": "Post to Instagram",
          "nodeType": "n8n-nodes-base.httpRequest",
          "params": {
            "url": "https://api.upload-post.com/instagram",
            "method": "POST",
            "headers": {
              "Authorization": "Apikey add_api_key_here"
            },
            "body": {
              "user": "upload_post",
              "images": [
                "={{$node[\"generateImage1\"].json[\"data\"][0][\"b64_json\"]}}",
                "={{$node[\"generateImage2\"].json[\"data\"][0][\"b64_json\"]}}",
                "={{$node[\"generateImage3\"].json[\"data\"][0][\"b64_json\"]}}",
                "={{$node[\"generateImage4\"].json[\"data\"][0][\"b64_json\"]}}",
                "={{$node[\"generateImage5\"].json[\"data\"][0][\"b64_json\"]}}"
              ],
              "caption": "={{$node[\"generateCaption\"].json[\"choices\"][0][\"text\"]}}"
            }
          },
          "position": {
            "x": 2000,
            "y": 200
          }
        },
        {
          "id": "postToTikTok",
          "label": "Post to TikTok",
          "nodeType": "n8n-nodes-base.httpRequest",
          "params": {
            "url": "https://api.upload-post.com/tiktok",
            "method": "POST",
            "headers": {
              "Authorization": "Apikey add_api_key_here"
            },
            "body": {
              "user": "upload_post",
              "images": [
                "={{$node[\"generateImage1\"].json[\"data\"][0][\"b64_json\"]}}",
                "={{$node[\"generateImage2\"].json[\"data\"][0][\"b64_json\"]}}",
                "={{$node[\"generateImage3\"].json[\"data\"][0][\"b64_json\"]}}",
                "={{$node[\"generateImage4\"].json[\"data\"][0][\"b64_json\"]}}",
                "={{$node[\"generateImage5\"].json[\"data\"][0][\"b64_json\"]}}"
              ],
              "caption": "={{$node[\"generateCaption\"].json[\"choices\"][0][\"text\"].substring(0, 90)}}",
              "auto_add_music": true
            }
          },
          "position": {
            "x": 2000,
            "y": 400
          }
        }
      ],
      "connections": [
        {
          "from": "trigger",
          "to": "setPrompts"
        },
        {
          "from": "setPrompts",
          "to": "setAPIParams"
        },
        {
          "from": "setAPIParams",
          "to": "generateImage1"
        },
        {
          "from": "generateImage1",
          "to": "generateImage2"
        },
        {
          "from": "generateImage2",
          "to": "generateImage3"
        },
        {
          "from": "generateImage3",
          "to": "generateImage4"
        },
        {
          "from": "generateImage4",
          "to": "generateImage5"
        },
        {
          "from": "generateImage5",
          "to": "generateCaption"
        },
        {
          "from": "generateCaption",
          "to": "postToInstagram"
        },
        {
          "from": "generateCaption",
          "to": "postToTikTok"
        }
      ]
    }
  },
  "usage": {
    "prompt_tokens": 1667,
    "completion_tokens": 2707,
    "total_tokens": 4374
  },
  "error": null,
  "generated_at": "2026-01-11T18:06:17.390092"
}