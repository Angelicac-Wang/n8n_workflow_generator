{
  "template_id": "9984",
  "llm_response": {
    "mode": "create_workflow",
    "reply": "Here is the workflow plan for the AI Doctors Appointment Scheduler.",
    "workflowPlan": {
      "name": "AI Doctors Appointment Scheduler",
      "nodes": [
        {
          "id": "1",
          "label": "Telegram Trigger",
          "nodeType": "n8n-nodes-base.telegramTrigger",
          "typeVersion": 1,
          "params": {
            "updateTypes": [
              "message"
            ]
          },
          "position": {
            "x": 200,
            "y": 300
          }
        },
        {
          "id": "2",
          "label": "Process Input",
          "nodeType": "n8n-nodes-base.function",
          "typeVersion": 1,
          "params": {
            "functionCode": "const message = items[0].json.message.text;\n// Process message to extract doctor name, date, and time\nreturn [{ json: { doctorName: 'Dr. Smith', date: '2023-10-10', time: '10:00' } }];"
          },
          "position": {
            "x": 400,
            "y": 300
          }
        },
        {
          "id": "3",
          "label": "Retrieve Doctor Info",
          "nodeType": "n8n-nodes-base.googleSheets",
          "typeVersion": 1,
          "params": {
            "operation": "read",
            "sheetId": "your-sheet-id",
            "range": "Doctors!A:C"
          },
          "position": {
            "x": 600,
            "y": 300
          }
        },
        {
          "id": "4",
          "label": "Check Availability",
          "nodeType": "n8n-nodes-base.function",
          "typeVersion": 1,
          "params": {
            "functionCode": "const doctorInfo = items[0].json;\n// Check availability logic\nconst isAvailable = true;\nreturn [{ json: { isAvailable } }];"
          },
          "position": {
            "x": 800,
            "y": 300
          }
        },
        {
          "id": "5",
          "label": "If Available",
          "nodeType": "n8n-nodes-base.if",
          "typeVersion": 1,
          "params": {
            "conditions": {
              "boolean": [
                {
                  "value1": "={{$json[\"isAvailable\"]}}",
                  "operation": "equal",
                  "value2": true
                }
              ]
            }
          },
          "position": {
            "x": 1000,
            "y": 300
          }
        },
        {
          "id": "6",
          "label": "Suggest Alternatives",
          "nodeType": "n8n-nodes-base.function",
          "typeVersion": 1,
          "params": {
            "functionCode": "return [{ json: { message: 'The doctor is not available. Suggested slots: ...' } }];"
          },
          "position": {
            "x": 1000,
            "y": 500
          }
        },
        {
          "id": "7",
          "label": "Confirm Appointment",
          "nodeType": "n8n-nodes-base.googleSheets",
          "typeVersion": 1,
          "params": {
            "operation": "append",
            "sheetId": "your-sheet-id",
            "range": "Appointments!A:C",
            "data": "={{ { 'values': [[ $json[\"doctorName\"], $json[\"date\"], $json[\"time\"] ]] } }}"
          },
          "position": {
            "x": 1200,
            "y": 200
          }
        },
        {
          "id": "8",
          "label": "Send Confirmation",
          "nodeType": "n8n-nodes-base.telegram",
          "typeVersion": 1,
          "params": {
            "chatId": "={{$json[\"chatId\"]}}",
            "text": "Appointment confirmed with {{$json[\"doctorName\"]}} on {{$json[\"date\"]}} at {{$json[\"time\"]}}."
          },
          "position": {
            "x": 1400,
            "y": 200
          }
        }
      ],
      "connections": [
        {
          "from": "1",
          "to": "2"
        },
        {
          "from": "2",
          "to": "3"
        },
        {
          "from": "3",
          "to": "4"
        },
        {
          "from": "4",
          "to": "5"
        },
        {
          "from": "5",
          "to": "7",
          "outputIndex": 0
        },
        {
          "from": "5",
          "to": "6",
          "outputIndex": 1
        },
        {
          "from": "7",
          "to": "8"
        }
      ]
    }
  },
  "usage": {
    "prompt_tokens": 658,
    "completion_tokens": 1090,
    "total_tokens": 1748
  },
  "error": null,
  "generated_at": "2026-01-11T18:44:06.401576"
}