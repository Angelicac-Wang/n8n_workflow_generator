{
  "template_id": "11899",
  "llm_response": {
    "mode": "create_workflow",
    "reply": "Here is a workflow plan to consolidate daily revenue from Stripe, PayPal, Shopify, and bank feeds, normalize the data, categorize income transactions using AI, calculate totals, and generate tax-compliant submissions.",
    "workflowPlan": {
      "name": "Revenue Consolidation and Tax Reporting",
      "nodes": [
        {
          "id": "1",
          "label": "Stripe Data Fetch",
          "nodeType": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "params": {
            "url": "https://api.stripe.com/v1/charges",
            "method": "GET",
            "authentication": "headerAuth",
            "responseFormat": "json"
          },
          "position": {
            "x": 200,
            "y": 300
          }
        },
        {
          "id": "2",
          "label": "PayPal Data Fetch",
          "nodeType": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "params": {
            "url": "https://api.paypal.com/v1/payments/payment",
            "method": "GET",
            "authentication": "headerAuth",
            "responseFormat": "json"
          },
          "position": {
            "x": 200,
            "y": 500
          }
        },
        {
          "id": "3",
          "label": "Shopify Data Fetch",
          "nodeType": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "params": {
            "url": "https://your-shopify-store.myshopify.com/admin/api/2021-04/orders.json",
            "method": "GET",
            "authentication": "headerAuth",
            "responseFormat": "json"
          },
          "position": {
            "x": 200,
            "y": 700
          }
        },
        {
          "id": "4",
          "label": "Bank Feed Fetch",
          "nodeType": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "params": {
            "url": "https://api.yourbank.com/transactions",
            "method": "GET",
            "authentication": "headerAuth",
            "responseFormat": "json"
          },
          "position": {
            "x": 200,
            "y": 900
          }
        },
        {
          "id": "5",
          "label": "Normalize Data",
          "nodeType": "n8n-nodes-base.function",
          "typeVersion": 1,
          "params": {
            "functionCode": "return items.map(item => { /* normalization logic */ return item; });"
          },
          "position": {
            "x": 500,
            "y": 600
          }
        },
        {
          "id": "6",
          "label": "AI Income Categorizer",
          "nodeType": "n8n-nodes-base.openai",
          "typeVersion": 1,
          "params": {
            "model": "text-davinci-003",
            "prompt": "Categorize the following income transaction: {{transaction}}",
            "temperature": 0.5
          },
          "position": {
            "x": 800,
            "y": 600
          }
        },
        {
          "id": "7",
          "label": "Calculate Totals",
          "nodeType": "n8n-nodes-base.function",
          "typeVersion": 1,
          "params": {
            "functionCode": "let total = 0; items.forEach(item => { total += item.json.amount; }); return [{ json: { total } }];"
          },
          "position": {
            "x": 1100,
            "y": 600
          }
        },
        {
          "id": "8",
          "label": "Generate CSV",
          "nodeType": "n8n-nodes-base.csv",
          "typeVersion": 1,
          "params": {
            "options": {
              "includeHeaders": true
            }
          },
          "position": {
            "x": 1400,
            "y": 500
          }
        },
        {
          "id": "9",
          "label": "Generate XML",
          "nodeType": "n8n-nodes-base.xml",
          "typeVersion": 1,
          "params": {
            "options": {
              "rootName": "Transactions"
            }
          },
          "position": {
            "x": 1400,
            "y": 700
          }
        },
        {
          "id": "10",
          "label": "Upload to Google Drive",
          "nodeType": "n8n-nodes-base.googleDrive",
          "typeVersion": 1,
          "params": {
            "operation": "upload",
            "fileName": "Revenue_Report.csv",
            "fileContent": "={{$node[\"Generate CSV\"].json[\"data\"]}}"
          },
          "position": {
            "x": 1700,
            "y": 500
          }
        },
        {
          "id": "11",
          "label": "Email CSV",
          "nodeType": "n8n-nodes-base.gmail",
          "typeVersion": 1,
          "params": {
            "operation": "send",
            "to": "tax@example.com",
            "subject": "Daily Revenue Report",
            "text": "Please find the attached revenue report.",
            "attachments": "={{$node[\"Generate CSV\"].json[\"data\"]}}"
          },
          "position": {
            "x": 1700,
            "y": 700
          }
        },
        {
          "id": "12",
          "label": "Submit to Tax API",
          "nodeType": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "params": {
            "url": "https://api.tax.gov/submit",
            "method": "POST",
            "authentication": "headerAuth",
            "body": "={{$node[\"Generate XML\"].json[\"data\"]}}",
            "responseFormat": "json"
          },
          "position": {
            "x": 2000,
            "y": 600
          }
        }
      ],
      "connections": [
        {
          "from": "1",
          "to": "5"
        },
        {
          "from": "2",
          "to": "5"
        },
        {
          "from": "3",
          "to": "5"
        },
        {
          "from": "4",
          "to": "5"
        },
        {
          "from": "5",
          "to": "6"
        },
        {
          "from": "6",
          "to": "7"
        },
        {
          "from": "7",
          "to": "8"
        },
        {
          "from": "7",
          "to": "9"
        },
        {
          "from": "8",
          "to": "10"
        },
        {
          "from": "8",
          "to": "11"
        },
        {
          "from": "9",
          "to": "12"
        }
      ]
    }
  },
  "usage": {
    "prompt_tokens": 707,
    "completion_tokens": 1584,
    "total_tokens": 2291
  },
  "error": null,
  "generated_at": "2026-01-11T17:05:57.472378"
}